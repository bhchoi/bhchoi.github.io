<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="theme" content="Chirpy v2.6.2"><meta name="generator" content="Jekyll v4.1.1" /><meta property="og:title" content="[Python Clean Code] Chapter2. 파이썬스러운(pythonic) 코드" /><meta name="author" content="your_full_name" /><meta property="og:locale" content="en_US" /><meta name="description" content="Python Clean Code 책 내용 정리 노트 입니다." /><meta property="og:description" content="Python Clean Code 책 내용 정리 노트 입니다." /><link rel="canonical" href="http://localhost:4000/posts/Clean-Code-In-Python-chapter2/" /><meta property="og:url" content="http://localhost:4000/posts/Clean-Code-In-Python-chapter2/" /><meta property="og:site_name" content="Chirpy" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-05-01T09:38:00+08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="[Python Clean Code] Chapter2. 파이썬스러운(pythonic) 코드" /><meta name="twitter:site" content="@twitter_username" /><meta name="twitter:creator" content="@your_full_name" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"author":{"@type":"Person","name":"your_full_name"},"headline":"[Python Clean Code] Chapter2. 파이썬스러운(pythonic) 코드","dateModified":"2020-05-01T09:38:00+08:00","datePublished":"2020-05-01T09:38:00+08:00","@type":"BlogPosting","description":"Python Clean Code 책 내용 정리 노트 입니다.","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/posts/Clean-Code-In-Python-chapter2/"},"url":"http://localhost:4000/posts/Clean-Code-In-Python-chapter2/","@context":"https://schema.org"}</script><title>[Python Clean Code] Chapter2. 파이썬스러운(pythonic) 코드 | Chirpy</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="preload" href="/assets/css/post.css" as="style"><link rel="stylesheet" href="/assets/css/post.css"><link rel="preload" as="style" href="/assets/css/lib/bootstrap-toc.min.css"><link rel="stylesheet" href="/assets/css/lib/bootstrap-toc.min.css" /> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script async src="/assets/js/post.min.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column"><div id="nav-wrapper"><div id="profile-wrapper" class="d-flex flex-column"><div id="avatar" class="d-flex justify-content-center"> <a href="/" alt="avatar"> <img src="/assets/img/sample/avatar.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="profile-text mt-3"><div class="site-title"> <a href="/">Chirpy</a></div><div class="site-subtitle font-italic">A text-focused Jekyll theme.</div></div></div><ul class="nav flex-column"><li class="nav-item d-flex justify-content-center "> <a href="/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item d-flex justify-content-center "> <a href="/tabs/categories/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item d-flex justify-content-center "> <a href="/tabs/tags/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item d-flex justify-content-center "> <a href="/tabs/archives/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item d-flex justify-content-center "> <a href="/tabs/about/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul></div><div class="sidebar-bottom d-flex flex-wrap justify-content-around mt-4"> <span id="mode-toggle-wrapper"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span> <span class="icon-border"></span> <a href="https://github.com/github_username" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/twitter_username" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['example','doamin.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>[Python Clean Code] Chapter2. 파이썬스러운(pythonic) 코드</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>[Python Clean Code] Chapter2. 파이썬스러운(pythonic) 코드</h1><div class="post-meta text-muted d-flex flex-column"><div> Posted <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Fri, May 1, 2020, 9:38 AM +0800" > May 1 <i class="unloaded">2020-05-01T09:38:00+08:00</i> </span> by <span class="author"> your_full_name </span></div></div><div class="post-content"><blockquote><p>Python Clean Code 책 내용 정리 노트 입니다.</p></blockquote><h1 id="chapter2-파이썬스러운pythonic-코드">Chapter2 파이썬스러운(pythonic) 코드</h1><p>파이썬스러운(pythonic) 관용구(idiom)를 사용했을때의 장점</p><ul><li>더 좋은 성능을 낸다.<li>코드가 작고 이해하기 쉽다.<li>동일한 패턴과 구조에 익숙해지면 실수가 줄고, 본질적인것에 집중할 수 있다.</ul><h2 id="인덱스와-슬라이스">인덱스와 슬라이스</h2><h3 id="마지막-요소-인덱스">마지막 요소 인덱스</h3><p>C에서 배열의 마지막 요소에 접근하려면 배열의 길이에서 1을 뺀 위치에서 요소를 가져온다.<br /> 하지만 파이썬에서는 음수 인덱스를 사용하여 끝에서부터 접근이 가능하다.</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="n">my_numbers</span> <span class="o">=</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">9</span><span class="p">)</span>
<span class="n">my_numbers</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> 
<span class="c1"># 9
</span><span class="n">my_numbers</span><span class="p">[</span><span class="o">-</span><span class="mi">3</span><span class="p">]</span> 
<span class="c1"># 5
</span></pre></table></code></div></div><h3 id="특정-구간-슬라이스">특정 구간 슬라이스</h3><p>대괄호의 시작 인덱스부터 종료 인덱스까지의 값을 가져온다.</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="n">my_numbers</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">21</span><span class="p">)</span>
<span class="n">my_numbers</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">5</span><span class="p">]</span> 
<span class="c1">#(2, 3, 5)
</span></pre></table></code></div></div><p>시작, 끝 인덱스를 제외할 수 있다.</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="n">my_numbers</span><span class="p">[:</span><span class="mi">3</span><span class="p">]</span>
<span class="c1"># (1, 1, 2)
</span><span class="n">my_numbers</span><span class="p">[</span><span class="mi">3</span><span class="p">:]</span>
<span class="c1"># (3, 5, 8, 13, 21)
</span><span class="n">my_numbers</span><span class="p">[::]</span>
<span class="c1"># (1, 1, 2, 3, 5, 8, 13, 21)
</span><span class="n">my_numbers</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">7</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span> <span class="c1"># 1부터 7까지의 요소 중 2칸씩 점프
# (1, 3, 8)
</span></pre></table></code></div></div><p>시퀀스에 간격을 전달하는 것은 slice 객체를 전달하는 것과 같다.</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="n">interval</span> <span class="o">=</span> <span class="nb">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">my_numbers</span><span class="p">[</span><span class="n">interval</span><span class="p">]</span>
<span class="c1"># (1, 3, 8)
</span>
<span class="n">interval</span> <span class="o">=</span> <span class="nb">slice</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">my_numbers</span><span class="p">[</span><span class="n">interval</span><span class="p">]</span> <span class="o">==</span> <span class="n">my_numbers</span><span class="p">[:</span><span class="mi">3</span><span class="p">]</span>
<span class="c1"># True
</span></pre></table></code></div></div><h3 id="자체-시쿼스-생성">자체 시쿼스 생성</h3><p>인덱스와 슬라이스 기능은 __getitem__ 메서드를 통해 동작한다.<br /> 사용자정의 클래스에서 __getitem__을 구현하는 경우 몇 가지 고려사항 해야될 사항이 있다.<br /> 클래스가 표준 라이브러리 객체를 감싸는 경우 기본 객체에 위임할 수 있다. 아래의 경우 list에 존재하는 동일한 메소드를 호출한다.</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Item</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">values</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">_values</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">_values</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">item</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="n">_values</span><span class="p">.</span><span class="n">__getitem__</span><span class="p">(</span><span class="n">item</span><span class="p">)</span>
</pre></table></code></div></div><p>표준 라이브러리를 사용하지 않는 경우 아래의 사항을 지켜야 한다.</p><ol><li>범위로 인덱싱하는 결과는 해당 클래스와 같은 타입의 인스턴스여야 한다.<li>slice에 의해 제공된 범위는 파이썬이 하는 것처럼 마지막 요소는 제외해야 한다.</ol><h2 id="컨텍스트-관리자context-manager">컨텍스트 관리자(context manager)</h2><p>특정 동작 전후 작업에 유용한 기능이다.<br /> 일반적으로 리소스 관리를 할 때 컨텍스트 관리자를 자주 사용한다. 예를 들어, 파일을 열고 작업을 한 후 누수를 막기위해 파일을 닫아야 한다.<br /> 일반적인 방법은 다음과 같다.</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="n">fd</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">process_file</span><span class="p">(</span><span class="n">fd</span><span class="p">)</span>
<span class="k">finally</span><span class="p">:</span>
    <span class="n">fd</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
</pre></table></code></div></div><p>파이썬스러운 방법은 다음과 같다.</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span> <span class="k">as</span> <span class="n">fd</span><span class="p">:</span>
    <span class="n">process_file</span><span class="p">(</span><span class="n">fd</span><span class="p">)</span>
</pre></table></code></div></div><p>with문(PEP-343)은 컨텍스트 관리자로 진입하게 되고 예외가 발생해도 자동으로 닫힌다.</p><p>컨텍스트 관리자는 __enter__와 __exit__ 두 개의 메소드로 구성된다. with 문의 __enter__ 메소드를 호출하고 as 이후 변수에 할당된다. (꼭 변수에 할당할 필요는 없다.)<br /> with 블록의 마지막 문장이 끝나면 컨텍스트가 종료되고 __exit__가 호출된다.</p><p>컨텍스트 관리자가 리소스관리에 자주 사용되지만, 전후 처리가 필요한 기능에 자체 컨텍스트 관리자를 구현할 수 있다.<br /> 예를 들면, DB 백업 작업 시, 백업 전에 DB가 중지되어야 하고 백업 후에 DB가 실행되어야 하는 경우이다.</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre><td class="rouge-code"><pre><span class="k">def</span> <span class="nf">stop_database</span><span class="p">():</span>
    <span class="n">run</span><span class="p">(</span><span class="s">"systemctl stop postgresql.service"</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">start_database</span><span class="p">():</span>
    <span class="n">run</span><span class="p">(</span><span class="s">"systemctl start postgresql.service"</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">DBHandler</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">stop_database</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exc_type</span><span class="p">,</span> <span class="n">ex_value</span><span class="p">,</span> <span class="n">ex_traceback</span><span class="p">):</span>
        <span class="n">start_database</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">db_backup</span><span class="p">():</span>
    <span class="n">run</span><span class="p">(</span><span class="s">"pg_dump database"</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="k">with</span> <span class="n">DBHandler</span><span class="p">():</span>
        <span class="n">db_backup</span><span class="p">()</span>
</pre></table></code></div></div><h3 id="컨텍스트-관리자-구현">컨텍스트 관리자 구현</h3><p>표준 라이브러리 contextlib를 사용하여 컨텍스트 관리자를 쉽게 구현할 수 있다.<br /> contextlib.contextmanager 데코레이터를 사용하여 다음과 같이 작성할 수 있다.</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre><span class="kn">import</span> <span class="nn">contextlib</span>

<span class="o">@</span><span class="n">contextlib</span><span class="p">.</span><span class="n">contextmanager</span>
<span class="k">def</span> <span class="nf">db_handler</span><span class="p">():</span>
    <span class="n">stop_database</span><span class="p">()</span>
    <span class="k">yield</span>
    <span class="n">start_database</span><span class="p">()</span>

<span class="k">with</span> <span class="n">db_handler</span><span class="p">():</span>
    <span class="n">db_backup</span><span class="p">()</span>
</pre></table></code></div></div><p>yield를 사용하면 제너레이터 함수가 되며, yield 문의 앞 부분은 __enter__이 되고, 반환값을 지정할 수 있다.<br /> yield 뒷 부분은 __exit__가 된다.<br /> 이렇게 작성하면 업무 도메인이 분리가 되어 리팩토링하기 편리한 장점이 있다.</p><p>컨텍스트 관리자를 구현하는 또 다른 방법은 contextlib.ContextDecorator이다.</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">dbhandler_decorator</span><span class="p">(</span><span class="n">contextlib</span><span class="p">.</span><span class="n">ContextDecorator</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">stop_database</span><span class="p">()</span>
    
    <span class="k">def</span> <span class="nf">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exc_type</span><span class="p">,</span> <span class="n">ex_value</span><span class="p">,</span> <span class="n">ex_traceback</span><span class="p">):</span>
        <span class="n">start_database</span><span class="p">()</span>

<span class="o">@</span><span class="n">dbhandler_decorator</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">offline_backup</span><span class="p">():</span>
    <span class="n">run</span><span class="p">(</span><span class="s">"pg_dump database"</span><span class="p">)</span>
</pre></table></code></div></div><p>이 방법에는 with 문이 없다. 함수를 호출하면 자동으로 컨텍스트 관리자 안에서 실행된다.<br /> 이 방법의 장점이자 단점은 완전히 독립적이라는 것이다. 데코레이터 함수에 대해 모르고 반대도 마찬가지이다. 대신 컨텍스트 관리자 내에서 사용할 수 있는 객체를 얻을 수 없다.</p><p>마지막으로 contextlib.suppress에 대해 알아보자.<br /> contextlib.suppress는 try/catch와 동일한 효과를 준다.</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="kn">import</span> <span class="nn">contextlib</span>

<span class="k">with</span> <span class="n">contextlib</span><span class="p">.</span><span class="n">suppress</span><span class="p">(</span><span class="n">DataConversionException</span><span class="p">):</span>
    <span class="n">parse_data</span><span class="p">(</span><span class="n">input_json_or_dict</span><span class="p">)</span>
</pre></table></code></div></div><h2 id="프로퍼티-속성과-객체-메서드의-다른-타입들">프로퍼티, 속성과 객체 메서드의 다른 타입들</h2><p>파이썬 객체의 모든 프로퍼티와 메소드는 public이다. 강제사항은 없지만 몇 가지 규칙이 존재한다. <br /> 예를 들어, 밑줄로 시작하는 속성은 private으로 취급한다. 밑줄에 대해 자세히 알아보자.</p><h3 id="파이썬에서의-밑줄">파이썬에서의 밑줄</h3><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Connector</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">source</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">source</span> <span class="o">=</span> <span class="n">source</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">_timeout</span> <span class="o">=</span> <span class="mi">60</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">Connector</span><span class="p">(</span><span class="s">"postgresql://localhost"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">conn</span><span class="p">.</span><span class="n">source</span><span class="p">)</span>
<span class="c1"># postgresql://localhost
</span><span class="k">print</span><span class="p">(</span><span class="n">conn</span><span class="p">.</span><span class="n">_timeout</span><span class="p">)</span>
<span class="c1"># 60
</span><span class="n">conn</span><span class="p">.</span><span class="n">__dict__</span>
<span class="c1"># {'source': 'postgresql://localhost', '_timeout': 60}
</span></pre></table></code></div></div><p>source는 public, _timeout은 private이지만 접근이 가능하다.<br /> _timeout은 connector 내부에서만 사용하고 외부에서 호출되어서는 안된다.<br /> 이러한 규칙을 지킨다면 유지보수가 쉬워지고 견고한 코드를 작성할 수 있다.</p><p>이중 밑줄을 사용하여 private을 만들 수 있다는 오해가 있다.</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Connector</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">source</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">source</span> <span class="o">=</span> <span class="n">source</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">__timeout</span> <span class="o">=</span> <span class="mi">60</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">Connector</span><span class="p">(</span><span class="s">"postgresql://localhost"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">conn</span><span class="p">.</span><span class="n">source</span><span class="p">)</span>
<span class="c1"># postgresql://localhost
</span><span class="k">print</span><span class="p">(</span><span class="n">conn</span><span class="p">.</span><span class="n">__timeout</span><span class="p">)</span>

<span class="n">Trackback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
    <span class="n">File</span> <span class="s">"&lt;stdin&gt;"</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
    <span class="nb">AttributeError</span><span class="p">:</span> <span class="s">'Connector'</span> <span class="nb">object</span> <span class="n">has</span> <span class="n">no</span> <span class="n">attribute</span> <span class="s">'__timeout'</span>
</pre></table></code></div></div><p>일부 개발자들은 이런 방식으로 속성을 숨길 수 있다고 생각하지만, AttributeError는 private이라서 발생하는 에러가 아니라 속성이 존재하지 않을 때 발생하는 에러이다.<br /> 밑줄 두 개를 사용하면 파이썬은 다른 이름을 만든다. 이를 name mangling이라고 한다.<br /> ‘_<class-name>__<attribute-name>" 속성이 만들어 진다.</attribute-name></class-name></p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="k">print</span><span class="p">(</span><span class="n">conn</span><span class="p">.</span><span class="n">_Connector__timeout</span><span class="p">)</span>
<span class="c1"># 60
</span></pre></table></code></div></div><h3 id="프로퍼티">프로퍼티</h3><p>객체의 어떤 속성에 접근할 때 다른 언어는 getter/setter를 사용하지만 파이썬은 프로퍼티를 사용한다.</p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre><td class="rouge-code"><pre><span class="kn">import</span> <span class="nn">re</span>

<span class="n">EMAIL_FORMAT</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">compiler</span><span class="p">(</span><span class="s">r"[^@]+@[^@]+[^@]+"</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">is_valid_email</span><span class="p">(</span><span class="n">potentially_valid_email</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">re</span><span class="p">.</span><span class="n">match</span><span class="p">(</span><span class="n">EMAIL_FORMAT</span><span class="p">,</span> <span class="n">potentially_valid_email</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span>

<span class="k">class</span> <span class="nc">User</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">username</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">username</span> <span class="o">=</span> <span class="n">username</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">_email</span> <span class="o">=</span> <span class="bp">None</span>

<span class="o">@</span><span class="nb">property</span>
<span class="k">def</span> <span class="nf">email</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="n">_email</span>

<span class="o">@</span><span class="n">email</span><span class="p">.</span><span class="n">setter</span>
<span class="k">def</span> <span class="nf">email</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new_email</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">is_valid_email</span><span class="p">(</span><span class="n">new_email</span><span class="p">):</span>
        <span class="k">raise</span> <span class="nb">ValueError</span><span class="p">(</span><span class="s">f"유효한 이메일이 아니므로 </span><span class="si">{</span><span class="n">new_email</span><span class="si">}</span><span class="s"> 값을 사용할 수 없음"</span><span class="p">)</span>
    <span class="bp">self</span><span class="p">.</span><span class="n">_email</span> <span class="o">=</span> <span class="n">new_email</span>
</pre></table></code></div></div><p>@property 메소드는 private인 email 값을 반환한다.<br /> @email.setter는 user.email = <new_email>이 실행될 때 호출되는 메소드이다.</new_email></p><div class="language-python highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="n">u1</span> <span class="o">=</span> <span class="n">User</span><span class="p">(</span><span class="s">"jsmith"</span><span class="p">)</span>
<span class="n">u1</span><span class="p">.</span><span class="n">email</span> <span class="o">=</span> <span class="s">"jsmith@"</span>
<span class="n">Trackback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
<span class="p">...</span>
<span class="n">유효한</span> <span class="n">이메일이</span> <span class="n">아니므로</span> <span class="n">jsmith</span><span class="o">@</span> <span class="n">값을</span> <span class="n">사용할</span> <span class="n">수</span> <span class="n">없음</span>

<span class="n">u1</span><span class="p">.</span><span class="n">email</span> <span class="o">=</span> <span class="s">"jsmith@g.co"</span>
<span class="n">u1</span><span class="p">.</span><span class="n">email</span>
<span class="c1"># jsmith@g.co
</span></pre></table></code></div></div><p>일반적인 경우는 속성을 직접 사용하고, 속성 값을 가져오거나 수정할때 로직이 필요한 경우에 프로퍼티를 사용한다.</p><p>프로퍼티는 명령-쿼리 분리 법칙(command and query separation - CC08)을 따르는 좋은 방법이다. <br /> 명령과 쿼리 중 하나만 수행해야지 둘 다 동시에 수행하면 안된다는 것이다.<br /> 예를 들어, set_email(“a@j.com”)의 의미가 이메일을 설정하는 것인지, 확인하는 것인지, 둘 다 하는 것인지 혼동될 수 있다.<br /> 프로퍼티를 사용하면 @property는 응답을 위한 쿼리이고, @<property_name>.setter는 무언가를 하기 위한 command이다. 추가적으로 메소드는 한 가지만 수행 해야하고, 작업을 처리한 다음 상태를 확인하려면 메소드를 분해야하 한다.</property_name></p><h2 id="이터러블-객체">이터러블 객체</h2><p>파이썬에서는 자체 이터러블을 만들 수 있다. 반복은 이터러블 프로토콜을 사용해 동작하며 다음 두 가지를 충족해야 한다.</p><ul><li>객체가 __next__나 __iter__ 이터레이터 메소드 중 하나를 포함하는지 여부<li>객체가 시퀀스이고 __len__과 __getitem__을 모두 가졌는지 여부</ul><h3 id="이터러블-객체-만들기">이터러블 객체 만들기</h3><p>객체를 반복할때 iter()를 호출하여 __iter__ 메소드가 있는지 확인한다. 다음은 일정 기간의 날짜를 하루 간격으로 반복하는 객체의 코드이다.</p><p>```python from datetime import timedelta</p><p>class DateRangeIterable: “"”자체 이터레이터 메소드를 가지고 있는 이터러블</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>"""
</pre></table></code></div></div></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/python/'>Python</a>, <a href='/categories/python-clean-code/'>Python Clean Code</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/python/" class="post-tag no-text-decoration" >python</a> <a href="/tags/python-clean-code/" class="post-tag no-text-decoration" >python clean code</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=[Python Clean Code] Chapter2. 파이썬스러운(pythonic) 코드 - Chirpy&url=http://localhost:4000/posts/Clean-Code-In-Python-chapter2/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=[Python Clean Code] Chapter2. 파이썬스러운(pythonic) 코드 - Chirpy&u=http://localhost:4000/posts/Clean-Code-In-Python-chapter2/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=[Python Clean Code] Chapter2. 파이썬스러운(pythonic) 코드 - Chirpy&url=http://localhost:4000/posts/Clean-Code-In-Python-chapter2/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/ch2_patterns_for_cleaner_python/">[Python Tricks]chapter2. Patterns for Cleaner Python</a><li><a href="/posts/leetcode-739/">[LeetCode]739. Daily Temperatures</a><li><a href="/posts/customize-the-favicon/">Customize the Favicon</a><li><a href="/posts/getting-started/">Getting Started</a><li><a href="/posts/write-a-new-post/">Writing a New Post</a></ul></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/python/">python</a> <a class="post-tag" href="/tags/algorithm/">algorithm</a> <a class="post-tag" href="/tags/leetcode/">leetcode</a> <a class="post-tag" href="/tags/tensorflow-in-practice/">Tensorflow in Practice</a> <a class="post-tag" href="/tags/docstring/">docstring</a> <a class="post-tag" href="/tags/python-clean-code/">python clean code</a> <a class="post-tag" href="/tags/python-tricks/">Python Tricks</a> <a class="post-tag" href="/tags/3sum/">3sum</a> <a class="post-tag" href="/tags/context-manager/">context manager</a> <a class="post-tag" href="/tags/convention/">convention</a></div></div></div><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/Clean-Code-In-Python-chapter1/"><div class="card-body"> <span class="timeago small" > May 1 <i class="unloaded">2020-05-01T09:38:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[Python Clean Code] Chapter1. 코드 포매팅과 도구</h3><div class="text-muted small"><p> Python Clean Code 책 내용 정리 노트 입니다. Chapter1 코드 포매팅과 도구 클린 코드의 의미 프로그래밍 언어는 생각을 컴퓨터에게 전달하는 것이 아니라 다른 개발자에게 전달하는 것이다. 그러므로 다른 사람이 코드를 읽고 쉽게 유지보수 할 수 있어야 한다. 클린 코드의 중요성 민첩한 개발 및 지속적인 배포 가능하다...</p></div></div></a></div><div class="card"> <a href="/posts/coding_convention/"><div class="card-body"> <span class="timeago small" > May 10 <i class="unloaded">2020-05-10T13:11:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[Python]coding convention 및 tool</h3><div class="text-muted small"><p> Coding Convention이란? coding convention은 code를 작성하는 구체적인 가이드라인이다. 협업을 위해서는 읽기 쉽고 일관적인 코드를 작성하는 것이 중요하다. 하지만 매우 많은 기준을 모두 지키면서 code를 작성하는 것이 매우 힘들다. 자동화 툴을 적용해보자 pylint pylint는 PEP-8을 준...</p></div></div></a></div><div class="card"> <a href="/posts/context_manager/"><div class="card-body"> <span class="timeago small" > May 15 <i class="unloaded">2020-05-15T13:11:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[Python]context manager(with statement)</h3><div class="text-muted small"><p> #</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/Clean-Code-In-Python-chapter1/" class="btn btn-outline-primary"><p>[Python Clean Code] Chapter1. 코드 포매팅과 도구</p></a> <a href="/posts/docstring/" class="btn btn-outline-primary"><p>[Python]Docstring</p></a></div></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('#post-wrapper img'); const observer = lozad(imgs); observer.observe(); </script><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2020 <a href="https://twitter.com/username">your_full_name</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy/" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-xl-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/python/">python</a> <a class="post-tag" href="/tags/algorithm/">algorithm</a> <a class="post-tag" href="/tags/leetcode/">leetcode</a> <a class="post-tag" href="/tags/tensorflow-in-practice/">Tensorflow in Practice</a> <a class="post-tag" href="/tags/docstring/">docstring</a> <a class="post-tag" href="/tags/python-clean-code/">python clean code</a> <a class="post-tag" href="/tags/python-tricks/">Python Tricks</a> <a class="post-tag" href="/tags/3sum/">3sum</a> <a class="post-tag" href="/tags/context-manager/">context manager</a> <a class="post-tag" href="/tags/convention/">convention</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="http://localhost:4000{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"><div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>{categories}</div><div><i class="fa fa-tag fa-fw"></i>{tags}</div></div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>' }); </script>
